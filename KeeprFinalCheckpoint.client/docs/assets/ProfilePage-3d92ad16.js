import{_ as x,u as I,j as A,l as j,P as k,b as i,h as B,k as z,r,o as l,c as a,a as e,t as _,F as P,e as w,A as n,f as d,g as V}from"./index-797a150f.js";import{p}from"./ProfilesService-51f52e10.js";const b={setup(){const s=I();A(()=>{u(),c()});async function c(){try{j.log("getting the following profile id from route:",s.params.profileId),await p.getProfileById(s.params.profileId),await p.getProfileKeeps(s.params.profileId),await p.getProfileVaults(s.params.profileId)}catch(t){k.error(t)}}function u(){document.getElementById("show-keep-details")}return{profile:i(()=>n.activeProfile),keeps:i(()=>n.activeKeeps),vaults:i(()=>n.activeVaults),vaultSize:i(()=>n.activeVaults.length),keepSize:i(()=>n.activeKeeps.length),async getMyVaults(){await B.getMyVaults()},async setActiveKeep(t){try{await z.setActiveKeep(t)}catch(v){k.error(v)}}}}},D={class:"container"},E={class:"row justify-content-center"},F={class:"col-8"},N=["src"],W={class:"row justify-content-center"},L={class:"col-1"},R=["src","alt"],q={class:"col-12 text-center"},G={class:"col-12 text-center"},H={class:"row justify-content-center"},J={class:"col-8"},O=e("h1",null," Vaults ",-1),Q={class:"masonry-container"},T={class:"row justify-content-center"},U=e("div",{class:"col-8"},[e("h1",null," Keeps ")],-1),X={class:"masonry-container"},Y=["onClick"],Z=e("section",null,null,-1);function $(s,c,u,t,v,ee){var f,m,g,h;const K=r("ProfileVaultCard"),C=r("ProfileKeepCard"),S=r("KeepDetails"),M=r("ModalWrapper");return l(),a("div",D,[e("section",null,[e("div",E,[e("div",F,[e("img",{class:"cover-img",src:(f=t.profile)==null?void 0:f.coverImg,alt:"no-img"},null,8,N)])]),e("div",W,[e("div",L,[e("img",{class:"profile-img",src:(m=t.profile)==null?void 0:m.picture,alt:(g=t.profile)==null?void 0:g.name},null,8,R)]),e("div",q,[e("h3",null,_((h=t.profile)==null?void 0:h.name),1)]),e("div",G,_(t.vaultSize)+" Vaults | "+_(t.keepSize)+" Keeps ",1)])]),e("section",null,[e("div",H,[e("div",J,[O,e("div",Q,[(l(!0),a(P,null,w(t.vaults,o=>(l(),a("div",{key:o.id},[d(K,{vault:o},null,8,["vault"])]))),128))])])])]),e("div",T,[U,e("div",X,[(l(!0),a(P,null,w(t.keeps,o=>(l(),a("div",{key:o.id},[d(M,{id:"show-keep-details"},{button:V(()=>[e("div",{onClick:c[0]||(c[0]=(...y)=>t.getMyVaults&&t.getMyVaults(...y))},[e("div",{onClick:y=>t.setActiveKeep(o.id)},[d(C,{keep:o},null,8,["keep"])],8,Y)])]),body:V(()=>[d(S,{keep:o},null,8,["keep"])]),_:2},1024)]))),128))])]),Z])}const se=x(b,[["render",$]]);export{se as default};
